<!-- <div class="jumbotron">
	<h1 class="text-center">Map</h1>
	
	<p class="text-center">your location to the event</p>
	<div id = "map"></div>
</div>

  <script>
function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 38.646, lng: -90.31},
          zoom: 14
        });
        var myLatLng = {lat: 38.646, lng: -90.31};
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
          title: 'Event is here!'
        });

        var infoWindow = new google.maps.InfoWindow({map: map});

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            infoWindow.setPosition(pos);
            infoWindow.setContent('Current location');
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
      }

      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
      }
      $(document).ready(function(){

          $('.onshow').on('click', function () {
    google.maps.event.trigger(map, "resize");

});
      });
      
            $('#clickModal').on('click', function () {
        alert("click!");
    google.maps.event.trigger(map, "resize");

});

//       var map; 
//       var myCenter=new google.maps.LatLng(53, -1.33); 
//       var marker=new google.maps.Marker( { position: myCenter}); 
// function initialize() { 
//   var mapProp = { 
//     center:myCenter, 
//     zoom: 14, 
//     draggable: false, 
//     scrollwheel: false, 
//     mapTypeId:google.maps.MapTypeId.ROADMAP 
// }; 
// map=new google.maps.Map(document.getElementById("map-canvas"),mapProp); 
// marker.setMap(map); 
// google.maps.event.addListener(marker, 'click', function() { 
// infowindow.setContent(contentString); 
// infowindow.open(map, marker); 
// }); 
// }; 
// google.maps.event.addDomListener(window,'load', initialize); 
// google.maps.event.addDomListener(window, "resize", resizingMap()); 
// $('#myMapModal').on('show.bs.modar', function() { resizeMap(); })

// function resizeMap() { 
//     if(typeof map =="undefined") return; setTimeout( function(){resizingMap();} , 400); 
// } 
// function resizingMap() { 
//     if(typeof map =="undefined") return; 
//     var center = map.getCenter();
//     google.maps.event.trigger(map, "resize");
//     map.setCenter(center);
// }

    </script>
     -->

<!DOCTYPE html>

<!-- define angular app -->
<html ng-app="scotchApp">

<head>
  <style>
       #map-canvas {
        height: 100%;
        height: 480px;
        width: 500px;
       }
       #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  <!-- SCROLLS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css" />

  <!-- SPELLS -->
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.js"></script>
  <script src="jquery.min.js"></script>
  <script src="bootstrap.min.js"></script>
  <script src="script.js"></script>
</head>

<!-- define angular controller -->
<body ng-controller="mainController">

  <nav class="navbar navbar-default">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="/">WASHU EVENTS</a>
      </div>

      <ul class="nav navbar-nav navbar-right">
        <li><a href="index.html"><i class="fa fa-home"></i> All</a></li>
        <li><a href="index.html#free_food"><i class="fa fa-shield"></i> Free Food</a></li>
        <li><a href="index.html#arts"><i class="fa fa-comment"></i> Performing Arts</a></li>
        <li><a href="index.html#week"><i class="fa fa-comment"></i> This Week</a></li>
        <li><a href="index.html#login"><i class="fa fa-comment"></i> Login</a></li>
      </ul>
    </div>
  </nav>

  <div id="main">
  
    <!-- angular templating -->
		<!-- this is where content will be injected -->
    
  </div>
  
  <div id="map"></div>


  <footer class="text-center">
    <p>WashU Events </p>
  
    <p> No rights not reserved</p>
  </footer>
  


<!-- <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myMapModal" id = "clickModal">
      Launch demo modal
    </button>


<div class="modal fade" id="myMapModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">{{ event.title }}</h4>
          </div>
          <div class="modal-body">
            <div class="container">
              <div class = "row">
                <div id="map-canvas"></div>      
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div> -->


  <script>
function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 38.646, lng: -90.31},
          zoom: 14
        });
        var myLatLng = {lat: 38.646, lng: -90.31};
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
          title: 'Event is here!'
        });

        var infoWindow = new google.maps.InfoWindow({map: map});

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            infoWindow.setPosition(pos);
            infoWindow.setContent('Current location');
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
      }

      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTNpvi1bCT47Fsx-OJY-Xgo8NLVwjxqPA&callback=initMap">
    </script>

</body>

</html>
